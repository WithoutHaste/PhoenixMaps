<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta name="description" content="Dungeons & Dragons map creation tool">
        <meta name="keywords" content="phoenix,map,dungeons,dragons">
        <meta name="author" content="Without Haste">
        <title>Phoenix Maps</title>
		<link rel="stylesheet" type="text/css" href="maps.css" />
		<script type="text/javascript" src="tiles.js"></script>
		<script type="text/javascript" src="maps.js"></script>
    </head>
    <body>
		<div id='titlebar'>
			Phoenix Maps
		</div>
		<div>
			<p>
				To start your map, select a tile and click on the map to place it.
			</p>
			<p>
				To save the image, <i>Download PNG</i>. Maps are generated at 70 pixels per tile.
			</p>
			<p>
				Phoenix Maps does not use logins or save any data to a server. If you want to be able to edit the map later, <i>Download NIX</i>. This is a text-formatted file that you can re-import into Phoenix Maps later. <a href='nix.html'>NIX File Format Definition</a>
			</p>
		</div>
		<div id='workspace'>
			<table>
				<tr>
					<td><div id='tiles'></div></td>
					<td>
						<table>
							<tr>
								<td>
								</td>
								<td class='map-buttons'>
									<span style='display: inline-block; float:left;'>
										<a id='export-png' href='' download='map.png'>Download PNG</a><br/>
										<a id='export-nix' href='' download='map.nix'>Download NIX</a>
									</span>
									<button id='add-row-north' title='Add row'>+ ðŸ¡¹</button>
									<button id='minus-row-north' title='Minus row'>- ðŸ¡»</button>
								</td>
								<td></td>
							</tr>
							<tr>
								<td class='map-buttons'>
									<button id='add-row-west' title='Add column'>+ ðŸ¢€</button><br/><br/>
									<button id='minus-row-west' title='Minus column'>- ðŸ¢‚</button>
								</td>
								<td>
									<div id='map-wrapper'>
										<div id='map'></div>
									</div>
								</td>
								<td class='map-buttons'>
									<button id='add-row-east' title='Add column'>+ ðŸ¢‚</button><br/><br/>
									<button id='minus-row-east' title='Minus column'>- ðŸ¢€</button>
								</td>
							</tr>
							<tr>
								<td></td>
								<td class='map-buttons'>
									<button id='add-row-south' title='Add row'>+ ðŸ¡»</button>
									<button id='minus-row-south' title='Minus row'>- ðŸ¡¹</button>
								</td>
								<td></td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</div>
		<div class='hidden'>
			<img id='blank' src='tiles/blank.png'/>
		</div>
    </body>
</html>

<script type='text/javascript'>
window.onload = function() {
	const tilesContainer = document.getElementById('tiles');
	InitTilesContainer(tilesContainer, version.v1);

	const mapContainer = document.getElementById('map');
	InitMapContainer(mapContainer);
		
	DrawMap();	
};
</script>
